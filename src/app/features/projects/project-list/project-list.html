<div class="container mx-auto px-4">
  <div *ngIf="loading" class="flex justify-center items-center py-16">
    <span class="animate-pulse-dorado text-2xl text-dorado font-heading">Loading projectsâ€¦</span>
  </div>

  <ul *ngIf="!loading && projects.length > 0" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-10">
    <app-project-card *ngFor="let p of projects; trackBy: trackProject" [project]="p"></app-project-card>
  </ul>

  <div *ngIf="!loading && projects.length > 0" class="flex justify-center gap-4 mt-10 mb-10">
    <a href="/assets/cv.pdf" target="_blank" class="bg-rojo-oscuro text-dorado font-heading px-5 py-3 rounded hover:bg-dorado hover:text-rojo-oscuro transition">Download CV</a>
    <a href="/#contact" class="border border-dorado text-dorado font-heading px-5 py-3 rounded hover:bg-dorado hover:text-purpura-profundo transition">Contact</a>
  </div>

  <p *ngIf="!loading && projects.length === 0" class="text-rojo-oscuro text-center my-16 text-lg font-heading">No projects found.</p>
</div>

<app-project-viewer
  *ngIf="selectedProject$ | async as sp"
  [project]="sp"
  (close)="closeViewer()">
</app-project-viewer>
